<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <span class="tab">&#9;</span>
    <title>Better-API-Phonemizer</title>
    <h1>Better-API-Phonemizer</h1><br>
  </head>
  <body>
    <strong>@request<br>
        &nbsp;&nbsp;transcription: transcription to phonemize @type {str}<br>
            @response<br>
        &nbsp;&nbsp;transcription: phonemized transcription @type {str}<br></strong>
        <!-- &nbsp;&nbsp;&#9;used <a href = "https://pypi.org/project/eng-to-ipa/">eng_to_ipa</a> library<br> -->

        <div id="testingTitle"><br>&nbsp;&nbsp;&#9;Text to Phoneme example</div>
        &nbsp;&nbsp;&#9;<input type = "text" id = "transcription">
        <input type = "submit" id = "submit" value = "convert to phoneme"><br>
        &nbsp;&nbsp;&#9;<span style = "background-color: lightskyblue;" id = "phoneme"></span><br>

        &nbsp;&nbsp;&#9;<a href = "https://github.com/queque5987/better-phonemizer"><img src = "https://github.com/queque5987/better-test/blob/main/github%20(1).png?raw=true" width = "150" height = "60" alt = "GitHub: queque5987"></a><br>
        &nbsp;&nbsp;&nbsp;pyw5987@gmail.com
        
            <script type = "text/javascript">
              function printName(text)  {
                const name = text
                var obj = new Object();
                obj.transcription = name;
                var jsonString = JSON.stringify(obj)
                var res = fetch('https://better-phonemizer.herokuapp.com/inference', {
                  method: 'POST',
                  headers: {
                  'Content-Type': 'application/json',
                  },
                  body: jsonString
                }).then((response) => response.json()
                ).then(function(data){
                  var phoneme = document.getElementById("phoneme");
                  var res = JSON.parse(data)
                  phoneme.innerText = res.transcription;
                })
              }
              var trs = document.getElementById("submit");
              var text = document.getElementById("transcription");
              trs.addEventListener('click', function(){
                alert(text.value);
                printName(text.value);
              });
            </script>

  </body>
